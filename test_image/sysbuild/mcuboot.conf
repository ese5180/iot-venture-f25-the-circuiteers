# MCUboot configuration for test image (same as fuota_with_sensor)
# Disable logging for MCUboot to save space
CONFIG_LOG=n
CONFIG_MCUBOOT_LOG_LEVEL_OFF=y

# Serial Recovery disabled - boot normally
CONFIG_MCUBOOT_SERIAL=n
CONFIG_BOOT_SERIAL_UART=n

# Disable console UART to save space
CONFIG_UART_CONSOLE=n

# Essential flash and partition configurations
CONFIG_FLASH=y
CONFIG_FLASH_MAP=y

# Enable image validation
CONFIG_BOOT_VALIDATE_SLOT0=y

# Enable basic MCUboot functionality
CONFIG_BOOT_BOOTSTRAP=n

# CRITICAL: MCUboot bootloader must start at flash base (0x0)
CONFIG_FLASH_LOAD_OFFSET=0x0

# Boot partition size set to 30KB
CONFIG_FLASH_LOAD_SIZE=0x7800

# Enable image swapping with scratch area for FUOTA
CONFIG_BOOT_SWAP_USING_SCRATCH=y

# Disable upgrade-only mode to enable full swapping
CONFIG_BOOT_UPGRADE_ONLY=n

# Configure sector count for partition management
CONFIG_BOOT_MAX_IMG_SECTORS=128
CONFIG_BOOT_MAX_IMG_SECTORS_AUTO=n
